
## Solution of Challenge 2 for Trivago Marketing QA Engineer position [![Chrome Passing](https://github.com/cypress-io/github-action/workflows/example-chrome/badge.svg?branch=master)](.github/workflows/main.yml)

## Solution Video:
https://user-images.githubusercontent.com/14287838/109374025-3f941000-78d4-11eb-902a-47141670279e.mp4

## **Task II: Test Automation (Bonus completed)**

Design a test automation framework for magazine


.trivago.com that will allow other QA Engineers to  be able to create test cases efficiently. 

**Please cover the following scenarios:**

- Search for any location on Magazine by using the search bar *Done*
- Fill in the contact form and send it (accessible through the footer) *Done*
- Subscribe to the Newsletter *Done*
- Navigate to a destination through the menu on the top left *Done*
- Verify that the links in homepage are working *Done*

**Bonus Scenario (Optional):** *Done*

- Click on Read more button in the Hero Image (hint : class="hero-button" )
- Open the browser console
- Access the dataLayer of the browser
- Check the below events are fired :
  - “OneTrustLoaded”
  - “OptanonLoaded”
  - “OneTrustGroupsUpdated”
- Check every event will include these 4 parameters inside : “C0001,C0003,C0002,C0004"
- Check “contentLoaded” event is fired then inside the event 
- Check the hotelIds is not empty and the target-properties has the same path in the URL 

**Gherkin Test Cases:**

1. Given I land on homepage
   When I click on the search icon
   And I enter the location Dusseldorf
   Then I see the relevant articles for that location
   
2. Given I land on homepage
   When I scroll to the footer view
   And I click on the contact form
   And I fill the form with name, email and message
   Then I see the success message for form submission
   
3. Given I land on homepage
   When I scroll to the newsletter view
   And I enter the email address for newsletter subscription
   And I click on the Inspire me button
   Then I see the "You are now checked-in!" message
   
4. Given I land on homepage
   When I click on the top left menu
   And I select the destinations
   And I select Midwest category
   And I select the Michigan state
   Then I see the Michigan page for destinations
   
5. Given I land on homepage
   And I verify all the links status code is 200
   Then I see that all the links are working fine
   
6. Given I land on homepage
   When I click on the read more button under hero image
   Then I can verify the events "OneTrustLoaded", "OptanonLoaded", "OneTrustGroupsUpdated" and "contentLoaded" are fired
   And "contentLoaded" event has non-empty hotelIds
   And  target-properties and URL has the same path


I have selected Cypress to automate these scenarios because of the cross browser support, CI/CD integration and built-in waiting mechanism making it the ideal choice for web automation. 

# Steps to setup Cypress:

## Short Steps:
- Clone this Repository and cd to the repository directory
- Run `npx cypress run` command to execute the automated tests
- Once tests are executed successfully, you will see a report automatically generated by Cypress incdicating the Pass/Fail plus the time taken by each test
- Enjoy Testing!

## Long Steps:

- git clone https://github.com/mujjazi/curly-octo-potato.git
- cd .\curly-octo-potato\
- npm install cypress --save-dev
- npx cypress open (manual execution)
or
- npx cypress run (automated execution)

## Pros of using Cypress:
- Automated Reports
![image](https://user-images.githubusercontent.com/14287838/109373903-6f8ee380-78d3-11eb-9427-c29ad70c326c.png)
- CI Integration with GitHub actions
- Parallel execution using CI tools and cross browser and platform support
- Built-in waiting mechanism
- API testing
- Stable tests
- Easier interaction with Data Layer using Window

## Cons of using Cypress:

- Lack of iframe support
- Only JavaScript language bindings
- lack of mobile testing support

### Author
Mujtaba Mehdi,
Feel free to connect on LinkedIn to discuss collaboration ideas.
[LinkedIn](https://www.linkedin.com/in/mujtabamehdi9)
