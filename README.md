
## Solution of Challenge 2 for Trivago Marketing QA Engineer position [![Chrome Passing](https://github.com/cypress-io/github-action/workflows/example-chrome/badge.svg?branch=master)](.github/workflows/main.yml)

## Solution Video:

https://user-images.githubusercontent.com/14287838/109370100-b8896c80-78c0-11eb-833e-7d162eb1c896.mp4


**Task II: Test Automation**

Design a test automation framework for room5.trivago.com that will allow other QA Engineers to  be able to create test cases efficiently. 

**Please cover the following scenarios:**

- Search for any location on Magazine by using the search bar *Done*
- Fill in the contact form and send it (accessible through the footer) *Done*
- Subscribe to the Newsletter *Done*
- Navigate to a destination through the menu on the top left *Done*
- Verify that the links in homepage are working *Done*


**Bonus Scenario (Optional):**  *Not Done*
 
1- Click on Read more button in the Hero Image (hint : class="hero-button" ) 2- Open the browser console 
3- Access the dataLayer of the browser 
4- Check the below events are fired : 
• “OneTrustLoaded” 
• “OptanonLoaded” 
• “OneTrustGroupsUpdated” 

Check every event will include these 4 parameters inside : “C0001,C0003,C0002,C0004" Check “contentLoaded” event is fired then inside the event check the hotelIds is not  empty and the target-properties has the same path in the URL :  
https://magazine.trivago.com/affordable-christmas-vacations-for-families/ 



I have selected Cypress to automate these scenarios because of the cross browser support, CI/CD integration and built-in waiting mechanism making it the ideal choice for web automation. 

I would chose automation in order to perform Regression testing. A good practice is to have two different suites: a very fast regression test that can be executed on every deploy of a development branch, and a more robust regression testing suite that can be executed periodically (like overnight or only before release). 

# Steps to setup Cypress:

## Short Steps:
- Clone this Repository and cd to the repository directory
- Run `npx cypress run` command to execute the automated tests
- Once tests are executed successfully, you will see a report automatically generated by Cypress incdicating the Pass/Fail plus the time taken by each test
- Enjoy Testing!

## Long Steps:

- git clone https://github.com/mujjazi/curly-octo-potato.git
- cd .\curly-octo-potato\
- npm init
- npm install cypress --save-dev
- npx cypress open (manual execution)
or
- npx cypress run (automated execution)

## Automated Reports:

Magazine Regression
    ✓ Test 1 - Search for any location on Magazine by using the search bar  (4930ms)
    ✓ Test 2 - Fill in the contact form and send it (accessible through the footer) (9768ms)
    ✓ Test 3 - Subscribe to the Newsletter (3257ms)
    ✓ Test 4 - Navigate to a destination through the menu on the top left (5530ms)
    ✓ Test 5 - Checking all the links on the homepage are working (13216ms)


  5 passing (37s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        5                                                                                │
  │ Passing:      5                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     36 seconds                                                                       │
  │ Spec Ran:     trivago.js                                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


====================================================================================================

  (Run Finished)


       Spec                                              Tests  Passing  Failing  Pending  Skipped  
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔  trivago.js                               00:36        5        5        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    ✔  All specs passed!                        00:36        5        5        -        -        -  



## CI Integration with GitHub actions


### Author
Mujtaba Mehdi,
Feel free to connect on LinkedIn to discuss collaboration ideas.
[LinkedIn](https://www.linkedin.com/in/mujtabamehdi9)
